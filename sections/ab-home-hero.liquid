{% assign hero_asset = section.settings.hero_asset | default: '' %}
{% if hero_asset != '' %}
  {% assign hero_bg = hero_asset | asset_url %}
{% endif %}

<header class="header" role="banner" aria-label="Site header">
  <div class="header-inner">
    <div class="left">
      <button class="icon-btn" aria-label="Open menu">{% render 'icon-hamburger-hero' %}</button>
      <a class="icon-btn" aria-label="Search" href="/search">{% render 'icon-search-hero' %}</a>
    </div>

    <div class="center" aria-label="Brand">{{ settings.brand_wordmark | default: 'ASH & BORN' }}</div>

    <div class="right">
      {% if section.settings.show_greeting %}
        <div class="hello">Hello again, {{ customer.first_name | default: section.settings.greeting_default }}</div>
      {% endif %}
      <a class="icon-btn account" href="/account" aria-label="Account">{% render 'icon-account-hero' %}</a>
      <a class="icon-btn cart" href="/cart" aria-label="Cart" style="position:relative;">
        {% render 'icon-cart-hero' %}
        {% if cart.item_count > 0 %}
          <span class="cart-badge">{{ cart.item_count }}</span>
        {% endif %}
      </a>
    </div>
  </div>
</header>

<style>
  :root{
    --bg:#ffffff; --text:#111; --muted:#666; --btn:#fff; --btn-text:#111;
    --shadow:0 8px 24px rgba(0,0,0,.12); --radius:999px;
  }
  .icon{ width:20px; height:20px; fill:currentColor; color:#111 }
  .icon-btn{ width:40px;height:40px; display:grid; place-items:center; border-radius:10px; background:#f3f4f6; cursor:pointer; transition:transform .15s ease, background .15s ease; border:1px solid #e5e7eb; text-decoration:none; color:inherit; }
  .icon-btn:hover{ background:#eef2ff; transform:translateY(-1px) }
  .cart-badge{ position:absolute; top:-6px; right:-6px; min-width:18px; height:18px; padding:0 5px; background:#86efac; color:#0a0a0a; border:1px solid #064e3b22; font-size:12px; line-height:18px; border-radius:999px; text-align:center; font-weight:700; }
  .header{ position:sticky; top:0; z-index:50; background:var(--bg); box-shadow:0 1px 0 rgba(0,0,0,.06) }
  .header-inner{ max-width:1200px; margin:auto; padding:12px 16px; display:flex; align-items:center; gap:12px }
  .left{ display:flex; align-items:center; gap:12px; min-width:120px }
  .center{ margin-inline:auto; font-weight:800; letter-spacing:.04em; font-size:22px }
  .right{ display:flex; align-items:center; gap:14px; min-width:220px; justify-content:flex-end }
  .hello{ color:var(--muted); font-weight:600; white-space:nowrap; display:none }
  @media (min-width:720px){ .hello{ display:block } }

  .hero{
    {% if hero_bg %}
      background: url('{{ hero_bg }}') center/cover no-repeat;
    {% else %}
      background: linear-gradient(90deg,#22c55e,#06b6d4 50%,#f59e0b);
    {% endif %}
    padding:64px 16px 48px; color:#fff; position:relative; overflow:hidden;
  }
  .hero-inner{ max-width:1100px; margin:auto; text-align:center }
  .headline{ font-size:clamp(32px,6vw,68px); line-height:1.02; font-weight:900; text-shadow:0 6px 28px rgba(0,0,0,.25); letter-spacing:.01em }
  .cta-row{ margin-top:22px; display:flex; gap:18px; justify-content:center; flex-wrap:wrap }
  .btn{ appearance:none; border:none; background:var(--btn); color:var(--btn-text); padding:14px 26px; font-weight:800; border-radius:var(--radius); box-shadow:var(--shadow); cursor:pointer; transition:transform .15s ease, box-shadow .15s ease, background .15s ease; letter-spacing:.02em; font-size:16px; text-decoration:none; display:inline-block }
  .btn:hover{ transform:translateY(-2px); box-shadow:0 12px 28px rgba(0,0,0,.18) }
  .btn-subscribe{ display:inline-block; margin-top:18px; padding:18px 34px; font-size:20px }
  @media (min-width:900px){ .btn-subscribe{ min-width:560px } }
</style>

<section class="hero">
  <div class="hero-inner">
    <h1 class="headline">{{ section.settings.headline }}</h1>
    <div class="cta-row" role="group" aria-label="Primary actions">
      <a class="btn" href="{{ section.settings.shop_sleep_link }}" aria-label="Shop Sleep">SHOP SLEEP</a>
      <a class="btn" href="{{ section.settings.shop_hydration_link }}" aria-label="Shop Hydration">SHOP HYDRATION</a>
    </div>
    <a class="btn btn-subscribe" href="{{ section.settings.subscribe_link }}" aria-label="Subscribe">SUBSCRIBE</a>
  </div>
</section>

{% schema %}
{
  "name": "Ash & Born â€“ Home (Hero Section)",
  "settings": [
    { "type": "text", "id": "hero_asset", "label": "Hero asset filename (in assets/)", "default": "hero-bg.jpg" },
    { "type": "text", "id": "headline", "label": "Headline", "default": "NEXT LEVEL HYDRATION" },
    { "type": "checkbox", "id": "show_greeting", "label": "Show greeting", "default": true },
    { "type": "text", "id": "greeting_default", "label": "Greeting fallback", "default": "Hello again, Adiel" },
    { "type": "text", "id": "shop_sleep_link", "label": "Shop Sleep link", "default": "/collections/sleep" },
    { "type": "text", "id": "shop_hydration_link", "label": "Shop Hydration link", "default": "/collections/hydration" },
    { "type": "text", "id": "subscribe_link", "label": "Subscribe link", "default": "/pages/subscribe" }
  ],
  "presets": [{ "name": "Ash & Born Hero" }]
}
{% endschema %}
