<section class="section">
  <div class="container grid" style="grid-template-columns:1fr 1fr">
    <div>
      {% render 'image-fallback', image: section.settings.image, alt: section.settings.heading | default: 'Featured Product', ratio: '1/1', placeholder: 'product-2' %}
    </div>
    <div>
      {% if section.settings.product != blank %}
        {% assign p = all_products[section.settings.product] %}
        <h2>{{ p.title }}</h2>
        <div>{{ p.description | strip_html | truncate: 180 }}</div>
        <form method="post" action="/cart/add">
          <input type="hidden" name="id" value="{{ p.selected_or_first_available_variant.id }}">
          <button class="button" type="submit">Add to cart â€“ {{ p.price | money }}</button>
        </form>
      {% else %}
        <h2>Featured product</h2>
        <p>Select a product in the section settings.</p>
      {% endif %}
    </div>
  </div>
</section>
{% schema %}
{
  "name": "Featured product",
  "settings": [
    { "type": "product", "id": "product", "label": "Product" },
    { "type": "image_picker", "id": "image", "label": "Image override" }
  ],
  "presets": [{ "name": "Featured product" }]
}
{% endschema %}
