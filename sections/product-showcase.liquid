<section class="section">
  <div class="container">
    <h2>{{ section.settings.heading }}</h2>
    <div class="grid grid-3">
      {% for block in section.blocks %}
        {% assign p = all_products[block.settings.product] %}
        <article class="product-card" {{ block.shopify_attributes }}>
          <a href="{{ p.url }}">
            {% render 'image-fallback', image: p.featured_image, alt: p.title, ratio: '1/1', placeholder: 'product-1' %}
          </a>
          <div class="body">
            <h3 style="margin:0 0 8px 0">{{ p.title }}</h3>
            <div style="color:var(--muted);margin-bottom:12px">{{ p.price | money }}</div>
            <a class="button" href="{{ p.url }}">View product</a>
          </div>
        </article>
      {% endfor %}
    </div>
  </div>
</section>
{% schema %}
{
  "name": "Product showcase",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Shop the lineup" }
  ],
  "blocks": [
    { "type": "product", "name": "Product", "settings": [{ "type": "product", "id": "product", "label": "Product" }] }
  ],
  "max_blocks": 12,
  "presets": [{ "name": "Product showcase", "blocks": [{ "type": "product" },{ "type": "product" },{ "type": "product" }] }]
}
{% endschema %}
