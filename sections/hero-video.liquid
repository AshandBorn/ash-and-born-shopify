<section class="hero-video section-animate" style="position:relative;height:80vh;overflow:hidden;">
  {% assign video_src = section.settings.video | asset_url %}
  <video class="hero-bg" src="{{ video_src }}" autoplay loop muted playsinline style="width:100%;height:100%;object-fit:cover;object-position:center;">
    Your browser does not support the video tag.
  </video>
  {% if section.settings.fallback_image != blank %}
    <img class="hero-bg" src="{{ section.settings.fallback_image | image_url: width: 2000 }}" alt="" style="width:100%;height:100%;object-fit:cover;object-position:center;position:absolute;top:0;left:0;z-index:-1;" />
  {% endif %}
  <div class="hero-overlay" style="position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;background:rgba(0,0,0,0.4);padding:0 1rem;">
    <h1 style="font-size:clamp(32px,6vw,64px);margin-bottom:16px;font-weight:700;">{{ section.settings.heading }}</h1>
    <p style="font-size:clamp(16px,3vw,24px);margin-bottom:24px;max-width:700px;line-height:1.6;">{{ section.settings.subheading }}</p>
    <div style="display:flex;gap:12px;flex-wrap:wrap;justify-content:center;">
      {% if section.settings.primary_label != blank %}
        <a href="{{ section.settings.primary_url }}" class="btn">{{ section.settings.primary_label }}</a>
      {% endif %}
      {% if section.settings.secondary_label != blank %}
        <a href="{{ section.settings.secondary_url }}" class="btn" style="background:transparent;border:2px solid var(--accent);color:var(--accent);">{{ section.settings.secondary_label }}</a>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Video hero",
  "tag": "section",
  "class": "section-hero-video",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Daily clarity. Nightly recovery."
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Two blends tuned for performance and calm. Electrolytes + adaptogens, clean and effective."
    },
    {
      "type": "text",
      "id": "video",
      "label": "Video filename",
      "info": "Upload a video file to your assets and enter its filename here. For example: hero-video.mp4",
      "default": "hero-video.mp4"
    },
    {
      "type": "image_picker",
      "id": "fallback_image",
      "label": "Fallback image",
      "info": "Image displayed if the video cannot play or on slow connections."
    },
    {
      "type": "text",
      "id": "primary_label",
      "label": "Primary button label",
      "default": "Shop Day"
    },
    {
      "type": "url",
      "id": "primary_url",
      "label": "Primary button URL",
      "default": "/collections/day"
    },
    {
      "type": "text",
      "id": "secondary_label",
      "label": "Secondary button label",
      "default": "Shop Night"
    },
    {
      "type": "url",
      "id": "secondary_url",
      "label": "Secondary button URL",
      "default": "/collections/night"
    }
  ],
  "presets": [
    {
      "name": "Video hero"
    }
  ]
}
{% endschema %}